{ layout: 'post',
  title: 'Top 25 Lusitano',
  published: true,
  categories: [ 'Portugal', 'Python', 'Web/Tech' ],
  __content: '\n<p>De acordo com o Alexa, os sítios portugueses mais populares do <a href="http://www.alexa.com/site/ds/top_sites?ts_mode=lang&lang=pt">Top 100 Lusófono</a> são os seguintes:</p>\n<p>nº 06: <a href="http://www.sapo.pt">www.sapo.pt</a></p>\n<p>nº 12: <a href="http://www.iol.pt">www.iol.pt</a></p>\n<p>nº 13: <a href="http://www.google.pt">www.google.pt</a></p>\n<p>nº 16: <a href="http://www.clix.pt">www.clix.pt</a></p>\n<p>nº 24: <a href="http://www.abola.pt">www.abola.pt</a></p>\n<p>nº 28: <a href="http://www.terravista.pt">www.terravista.pt</a></p>\n<p>nº 32: <a href="http://www.record.pt">www.record.pt</a></p>\n<p>nº 34: <a href="http://www.publico.pt">www.publico.pt</a></p>\n<p>nº 40: <a href="http://www.ojogo.pt">www.ojogo.pt</a></p>\n<p>nº 48: <a href="http://www.e-financas.gov.pt">www.e-financas.gov.pt</a></p>\n<p>nº 49: <a href="http://www.millenniumbcp.pt">www.millenniumbcp.pt</a></p>\n<p>nº 50: <a href="http://www.telepac.pt">www.telepac.pt</a></p>\n<p>nº 53: <a href="http://www.aeiou.pt">www.aeiou.pt</a></p>\n<p>nº 64: <a href="http://www.mytmn.pt">www.mytmn.pt</a></p>\n<p>nº 70: <a href="http://www.correiomanha.pt">www.correiomanha.pt</a></p>\n<p>nº 78: <a href="http://www.xl.pt">www.xl.pt</a></p>\n<p>nº 79: <a href="http://www.paginasamarelas.pt">www.paginasamarelas.pt</a></p>\n<p>nº 81: <a href="http://www.min-edu.pt">www.min-edu.pt</a></p>\n<p>nº 84: <a href="http://www.rtp.pt">www.rtp.pt</a></p>\n<p>nº 85: <a href="http://www.co.pt">www.co.pt</a></p>\n<p>nº 87: <a href="http://www.oninet.pt">www.oninet.pt</a></p>\n<p>nº 88: <a href="http://www.portugalmail.pt">www.portugalmail.pt</a></p>\n<p>nº 91: <a href="http://www.mediacapital.pt">www.mediacapital.pt</a></p>\n<p>nº 94: <a href="http://www.mail.pt">www.mail.pt</a></p>\n<p>nº 95: <a href="http://www.tvcabo.pt">www.tvcabo.pt</a></p>\n<p>Uma em cada quatro páginas do top 100 tem a extensão .pt, o que é surpreendente se pensarmos que para cada português existem cerca de 18 brasileiros.</p>\n<p>\nPara extrair esta informação da páginas do Top 100 Lusófono, usei umas poucas linhas de Python. Primeiro usei o módulo <code>urllib2</code> para ler a página para dentro da <em>string</em> <code>page</code>:</p>\n<blockquote><pre>import urllib2\nurl="http://www.alexa.com/site/ds/top_sites?" \\\n     + "ts_mode=lang&amp;lang=pt"\npage=urllib2.urlopen(url).read()\n</pre></blockquote>\nEm seguida usei o módulo <a href="http://www.crummy.com/software/BeautifulSoup/">BeautifulSoup</a>  do Leonard Richardson para procurar no código HTML da página todas as <em>tags</em> do tipo <code>span</code> e com o atributo <code>class</code> igual a <code>smallG</code>:\n<blockquote><pre>\nfrom BeautifulSoup import BeautifulSoup as BS\nbs=BS()\nbs.feed(page)\ntags=bs(\'span\', {\'class\': \'smallG\'})\nlinks=[tag.contents[0].string for tag in tags]\npt_links={}\nfor i in range(len(links)):\n    link=links[i]\n    if link.endswith(\'.pt\'):\n        pt_links[i]=link\nimport pprint\npprint.pprint(pt_links)</pre></blockquote>\nO resultado é este <a href="http://docs.python.org/tut/node7.html#SECTION007400000000000000000">dicionário</a> de 25 domínios .pt:\n<blockquote><pre>{6: \'www.sapo.pt\',\n 12: \'www.iol.pt\',\n 13: \'www.google.pt\',\n 16: \'www.clix.pt\',\n 24: \'www.abola.pt\',\n 28: \'www.terravista.pt\',\n 32: \'www.record.pt\',\n 34: \'www.publico.pt\',\n 40: \'www.ojogo.pt\',\n 48: \'www.e-financas.gov.pt\',\n 49: \'www.millenniumbcp.pt\',\n 50: \'www.telepac.pt\',\n 53: \'www.aeiou.pt\',\n 64: \'www.mytmn.pt\',\n 70: \'www.correiomanha.pt\',\n 78: \'www.xl.pt\',\n 79: \'www.paginasamarelas.pt\',\n 81: \'www.min-edu.pt\',\n 84: \'www.rtp.pt\',\n 85: \'www.co.pt\',\n 87: \'www.oninet.pt\',\n 88: \'www.portugalmail.pt\',\n 91: \'www.mediacapital.pt\',\n 94: \'www.mail.pt\',\n 95: \'www.tvcabo.pt\'}</pre></blockquote>\n\n' }
